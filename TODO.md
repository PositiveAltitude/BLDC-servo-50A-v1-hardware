# TODO

## âœ… Research
- [x] Find good MOSFETs
- [x] Plan heat dissipation
- [x] Verify driver's capabilities

## âœ… Parts selection
- [x] MCU (STM32G431CBT6)
- [x] Driver (DRV8305NQPHPRQ1)
- [x] MOSFETs (BSC010N04LS)
- [x] Can Transceiver (SN65HVD230DR)
- [x] 5V Buck (LMR51430YFDDCR)
- [x] 3.3V LDO (TLV75533PDBVR)
- [x] Polymer caps (EEHZC1H101P)
- [x] Shunt resistor (ASR-M-3-1F)
- [x] TVS Diode (SMBJe28A)
- [x] Can bus connectors (S3B-PH-SM4-TB(LF)(SN))
- [x] Magnetic encoder FPC connector (HC-FPC-05-09-8RLTAG)
- [x] Current limiting switch (5V) for a fan (TPS22919DCKR)
- [x] Addressable LED (WS2812B-2020)
- [x] Magnetic encoder (Magn Tek MT6701QT-STD)
- [x] NTC (NCP15XH103F03RC)
## ðŸ›  STM32 CubeMX project
- [x] SWD
- [x] 2 magnetic encoders (SPI)
- [x] Driver's phases (timers)
- [x] Driver's current sensing
- [x] Driver's voltage sensing
- [ ] Driver's signals
- [ ] Driver's SPI
- [x] CAN
- [x] Voltage sense
- [x] Temperature sense (NTC)
- [x] Fan PWM control
- [x] Addressable LED control (SPI-MOSI could be used)
## ðŸ›  Electrical scheme
- [ ] MCU
- [ ] Driver
- [ ] MOSFETs
- [ ] Bulk capacitors
- [ ] TVS Diode
- [ ] CAN Transceiver
  - [ ] CAN protection?
- [ ] 5V Buck
- [ ] 3.3V LDO
- [ ] Fan switch
- [ ] LED
- [ ] Connectors
  - [ ] Phase soldering pads
  - [ ] Battery pads
  - [ ] Can connectors
  - [ ] Fan connector
  - [ ] SWD
  - [ ] Encoder connectors
- [ ] Mounting holes
- [ ] Voltage sensing
- [ ] Current sensing
## ðŸ›  Assign all components and footprints
- [x] Footprints
  - [x] Resistors
  - [x] Capacitors
  - [x] Connectors
  - [x] Chips
    - [x] MCU
    - [x] Driver
    - [x] LDO
    - [x] 5V Buck
    - [x] LED
    - [x] TVS Diode
    - [x] Bulk Caps
    - [x] Fan Switch
    - [x] CAN Transceiver
    - [x] NTC
  - [x] Soldering pads
  - [x] Net ties
  - [x] Inductors, ferrite beads, etc
- [ ] LCSC codes
## ðŸ›  PCB outline and components arrangement
- [ ] MOSFETs
- [ ] Connectors
- [ ] Other chips
## ðŸ¤” PCB tracing
## ðŸ¤” Verification and preparing for fabrication
- [ ] Double check
  - [ ] MCU signals
  - [ ] MCU power
  - [ ] Connectors pinouts
  - [ ] Driver components
    - [ ] Check charge pump caps with reference design (should it be 47n real or derated?)
  - [ ] 5V buck components
  - [ ] Power stage connections
  - [ ] Power stage routing
  - [ ] Power stage cooling
  - [ ] NTC placement
  - [ ] High current rotes
  - [ ] Power loops
  - [ ] Gate loops
  - [ ] GND cutouts
  - [ ] Board outline
  - [ ] All parts voltage ratings
  - [ ] Check BOM
  - [ ] Fan pinout
- [ ] Optimize BOM if possible
- [ ] Check components availability
- [ ] Silk screen
- [ ] Fabrication output generation script
  - [ ] Panelization
    - [ ] Holes and fiducials
  - [ ] BOM
  - [ ] Gerber
  - [ ] Placement